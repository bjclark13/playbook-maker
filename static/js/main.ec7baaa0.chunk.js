(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){e.exports=n(261)},108:function(e,t,n){},110:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(23),i=n.n(r),s=(n(108),n(16)),l=n(17),c=n(19),d=n(18),u=n(20),h=(n(110),n(24)),p=n(102),g=n(5),m=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={lineColor:"black",height:n.getHeight(),width:n.getWidth()},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"updateDimensions",value:function(){this.setState({width:this.getWidth(),height:this.getHeight()})}},{key:"componentDidMount",value:function(){var e=this;this.updateDimensions(),window.addEventListener("resize",function(){return e.updateDimensions()})}},{key:"getWidth",value:function(){return this.props.width||window.innerWidth}},{key:"getHeight",value:function(){return this.props.height||window.innerHeight}},{key:"render",value:function(){var e=this;return o.a.createElement(g.Layer,null,Object(p.a)(Array(Math.floor(this.state.height/2/10))).map(function(t,n){var a=e.state.height/2+15*n,r=a-30*n,i=e.state.width/3;return o.a.createElement(g.Group,null,0===n%10?o.a.createElement(g.Group,null,o.a.createElement(g.Line,{points:[0,a,e.state.width,a],stroke:e.state.lineColor,tension:2}),o.a.createElement(g.Line,{points:[0,r,e.state.width,r],stroke:e.state.lineColor,tension:2}),o.a.createElement(g.Text,{x:120,y:a-28,text:50-n,fontSize:50,rotation:90}),o.a.createElement(g.Text,{x:120,y:r-28,text:50-n,fontSize:50,rotation:90}),o.a.createElement(g.Text,{x:e.state.width-120,y:a-28,text:50-n,fontSize:50,rotation:90}),o.a.createElement(g.Text,{x:e.state.width-120,y:r-28,text:50-n,fontSize:50,rotation:90})):o.a.createElement(g.Group,null,o.a.createElement(g.Line,{points:[i-5,a,i+5,a],stroke:e.state.lineColor,tension:2}),o.a.createElement(g.Line,{points:[2*i-5,a,2*i+5,a],stroke:e.state.lineColor,tension:2}),o.a.createElement(g.Line,{points:[i-5,r,i+5,r],stroke:e.state.lineColor,tension:2}),o.a.createElement(g.Line,{points:[2*i-5,r,2*i+5,r],stroke:e.state.lineColor,tension:2})))}))}}]),t}(o.a.Component),f="black",y="#f7faf5",b=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(g.Rect,Object.assign({width:20,height:20,cornerRadius:2,stroke:f,fill:y,shadowColor:f,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(g.Circle,Object.assign({radius:9,fill:y,stroke:f,shadowColor:f,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(E,Object.assign({},this.props,{text:"X"}))}}]),t}(o.a.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(g.Text,Object.assign({fontSize:25,fill:f,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),O="black",v=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(g.Line,Object.assign({stroke:O,tension:1,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(v,Object.assign({dash:[10]},this.props))}}]),t}(o.a.Component),M=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(g.Arrow,Object.assign({stroke:O,fill:O,tension:1,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),C=n(94),j=n.n(C),D=n(93),S=n.n(D),T=n(92),L=n.n(T),B=n(97),I=n.n(B),P=n(29),R=n.n(P),z=n(98),H=n(53),A=n.n(H),W=n(21),q=n.n(W),J=n(28),N=n.n(J),U=n(96),F=n.n(U),K=n(95),Y=n.n(K),_=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).toggleMenu=function(){n.setState({menuOpen:!n.state.menuOpen})},n.toggleDrawMenu=function(){n.setState({drawMenuOpen:!n.state.drawMenuOpen})},n.setMode=function(e){n.props.setMode(e),n.handleClose()},n.handleClose=function(){n.setState({menuOpen:!1,drawMenuOpen:!1})},n.state={menuOpen:!1,drawMenuOpen:!1},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{zIndex:999}},this.props.drawMode?o.a.createElement(N.a,{title:"Straight Mode","aria-label":"Straight Mode"},o.a.createElement(R.a,{color:this.props.straightMode?"primary":"default","aria-label":"Draw",style:{position:"fixed",zIndex:999,bottom:80,right:85},buttonRef:function(t){e.anchorElDraw=t},onClick:function(t){return e.props.toggleStraightMode()}},o.a.createElement(L.a,null))):null,o.a.createElement(N.a,{title:"Draw Mode","aria-label":"Draw Mode"},o.a.createElement(R.a,{color:this.props.drawMode?"primary":"default","aria-label":"Draw",style:{position:"fixed",zIndex:999,bottom:80,right:15},buttonRef:function(t){e.anchorElDraw=t},onClick:this.toggleDrawMenu},o.a.createElement(S.a,null))),o.a.createElement(N.a,{title:"Add Item","aria-label":"Add Item"},o.a.createElement(R.a,{color:"secondary","aria-label":"Add",style:{bottom:10,right:15,position:"fixed",zIndex:999},onClick:this.toggleMenu,buttonRef:function(t){e.anchorEl=t}},o.a.createElement(j.a,null))),this.props.hasPast?o.a.createElement(N.a,{title:"Undo","aria-label":"Undo"},o.a.createElement(R.a,{color:"default","aria-label":"Draw",style:{position:"fixed",zIndex:999,bottom:10,right:85},onClick:this.props.undo},o.a.createElement(Y.a,null))):null,this.props.hasFuture?o.a.createElement(N.a,{title:"Redo","aria-label":"Redo"},o.a.createElement(R.a,{color:"default","aria-label":"Draw",style:{position:"fixed",zIndex:999,bottom:10,right:155},onClick:this.props.redo},o.a.createElement(F.a,null))):null,o.a.createElement(N.a,{title:"Drag Mode","aria-label":"Drag Mode"},o.a.createElement(R.a,{color:this.props.drawMode?"default":"primary","aria-label":"Drag",style:{bottom:150,right:15,position:"fixed",zIndex:999},onClick:function(){e.props.setMode(!1)}},o.a.createElement(I.a,null))),o.a.createElement(A.a,{id:"add-menu",onClose:this.handleClose,open:this.state.menuOpen,anchorEl:this.anchorEl},o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("ohs"),e.handleClose()}},"Circle"),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("squares"),e.handleClose()}},"Square"),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("exes"),e.handleClose()}}," X "),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("textes",{text:"Y"}),e.handleClose()}}," Y "),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("textes",{text:"Z"}),e.handleClose()}}," Z "),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("textes",{text:"QB"}),e.handleClose()}}," QB "),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("textes",{text:"HB"}),e.handleClose()}}," HB "),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("textes",{text:"FB"}),e.handleClose()}}," FB "),o.a.createElement(q.a,{onClick:function(){e.props.addToBoard("textes",{text:"TE"}),e.handleClose()}}," TE "),o.a.createElement(q.a,{onClick:this.handleClose},"Custom Text")),o.a.createElement(A.a,{id:"draw-menu",open:this.state.drawMenuOpen,anchorEl:this.anchorElDraw},o.a.createElement(q.a,{onClick:function(){return e.setMode("lines")}},"Lines"),o.a.createElement(q.a,{onClick:function(){return e.setMode("arrows")}},"Arrows"),o.a.createElement(q.a,{onClick:function(){return e.setMode("dottedLines")}},"Dotted Lines")))}}]),t}(o.a.Component),X=Object(z.withStyles)(function(e){return{fab:{marginLeft:100},extendedIcon:{marginRight:e.spacing.unit}}})(_),G=n(99),Q=n.n(G),Z=n(100),$=n.n(Z),V=n(101),ee=n.n(V),te=n(54),ne=n.n(te),ae={textes:[{x:404.45820487961646,y:417.5,text:"QB"},{x:406.4942142393893,y:481.5,text:"HB"},{x:301.54174278356686,y:381.5,text:"TE"},{x:831.8467669614723,y:369.5,text:"Y"},{x:147.8579053924966,y:377.5,text:"Z"},{x:652.3655341239064,y:416.5,text:"Y"},{x:347.9741238899112,y:483.5,text:"FB"}],exes:[{x:333.51636263624954,y:329.5},{x:352.54922742490476,y:272.5},{x:372.4247364529081,y:330.5},{x:495.37487311008795,y:329.5},{x:454.4581470595989,y:329.5},{x:406.9802261589049,y:273.5},{x:450.3486192172184,y:273.5},{x:610.2161121255891,y:380.5},{x:699.3462633196102,y:268.5},{x:122.65475548392038,y:257.5},{x:313.042880457158,y:110.5},{x:618.00181701492,y:266.5},{x:506.22486648557594,y:115.5}],ohs:[{x:362.5140046229384,y:391.5},{x:391.1812888316513,y:391.5},{x:454.23179128038396,y:392.5},{x:487.9465022072295,y:392.5}],lines:[{points:[506.1812888316513,324.5]},{points:[420.1528041132161,323.5]},{points:[105,236]},{points:[727,375]},{points:[727,375]},{points:[358,383]},{points:[347,359]},{points:[336,365]},{points:[356,353]},{points:[360,381,351,364,351,364,345,364,345,364,356,358]},{points:[390,382,384,358,384,358,376,361,376,361,392,353]},{points:[455,384,459,359,459,359,448,359,448,359,464,358]},{points:[489,383,495,359,495,359,488,357,488,357,498,357]},{points:[420,379,421,350,421,350,410,351,410,351,431,347]},{points:[363,483,359,452,359,452,342,452,342,452,371,450]}],arrows:[{points:[839,364,836,51]},{points:[659,410,669,199,669,199,479,194]},{points:[616,371,612,122]},{points:[155,371,159,248,159,248,240,159]},{points:[497,428,679,434]},{points:[316,374,310,306,310,306,394,222]}],squares:[{x:410.8470896565766,y:382.5}],dottedLines:[{points:[105,216]},{points:[441,492,442,490,445,487,447,486,448,485,450,483,451,482,453,480,455,478,457,476,459,475,460,473,461,472,462,471,465,469,467,466,469,463,471,462,471,461,473,459,474,458,475,457,476,456,477,455,478,455,478,454,479,453,480,453,481,452,482,451,483,450,484,449,485,448,486,447,487,446,488,445,489,444,489,444,490,443,491,442,492,441,492,440,493,438,494,437,495,436,496,435,497,434,498,433,498,432,499,431,500,430,500,430,501,429,501,429,502,428,502,428,503,428,504,427]},{points:[610,314]},{points:[610,314]},{points:[606,313]},{points:[606,313]}],fieldHeight:800,drawMode:"arrows",straightMode:!0,editing:!1},oe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleDragStart=function(e){n.state.drawMode||e.target.setAttrs({})},n.roundToNearest=function(e,t){return e%t>=t/2?parseInt(e/t)*t+t:parseInt(e/t)*t},n.saveProgress=function(){var e=Object.assign(n.state,{});n.history.present.length&&n.history.past.push(n.history.present.pop()),n.history.present.push(e),window.sessionStorage.setItem("playbook-active",JSON.stringify(e)),n.getLocalChanges()},n.undo=function(){var e=n.history.past.pop();n.history.future.push(n.state),n.setState(e,function(e){window.sessionStorage.setItem("playbook-active",JSON.stringify(Object.assign(n.state,{})))})},n.redo=function(){var e=n.history.future.pop();n.history.past.push(n.state),n.setState(e,function(e){window.sessionStorage.setItem("playbook-active",JSON.stringify(Object.assign(n.state,{})))})},n.getLocalChanges=function(){var e=window.sessionStorage.getItem("playbook-active");e&&n.setState(JSON.parse(e))},n.loadSample=function(){n.setState(ae)},n.clearChanges=function(){window.confirm("Are you sure you want to clear changes?")&&(window.sessionStorage.removeItem("playbook-active"),n.setState(n.initialState))},n.handleDragEnd=function(e,t,a){if(!n.state.drawMode){e.target.to({duration:.5,scaleX:1,scaleY:1});var o=n.state[a];o[t].x=e.currentTarget._lastPos.x,o[t].y=e.currentTarget._lastPos.y,n.setState(Object(h.a)({},a,o),n.saveProgress)}},n._handleKeyDown=function(e){" "==e.key&&n.state.drawMode&&n.state.straightMode&&n.state[n.state.drawMode].push({points:[]})},n.handleMouseMove=function(e){if(n.state.drawMode&&!n.state.straightMode&&n.state.editing){var t=n.state.editing,a=n.stageRef.getStage().getPointerPosition();t.push(a.x,a.y),n.setState({editing:t})}},n.remove=function(e,t){if(window.confirm("Are you sure you want to remove this item?")){var a=n.state[t];a.splice(e,1),n.setState(Object(h.a)({},t,a),n.saveProgress)}},n.handleMouseUp=function(e){if(n.state.drawMode)if(n.state.straightMode){var t=n.state[n.state.drawMode],a=n.stageRef.getStage().getPointerPosition(),o=a.x,r=a.y;if(t.length){var i=t[t.length-1].points.length;if(i&&i>2){var s=t[t.length-1].points[i-1],l=t[t.length-1].points[i-2];t[t.length-1].points.push(l,s)}t[t.length-1].points.push(o,r)}else t.push({points:[o,r]});n.setState(Object(h.a)({},n.state.drawMode,t),n.saveProgress)}else if(n.state.editing){var c,d=n.state[n.state.drawMode];d.push({points:n.state.editing}),n.setState((c={},Object(h.a)(c,n.state.drawMode,d),Object(h.a)(c,"editing",!1),c),n.saveProgress)}},n.handleMouseDown=function(e){if(n.state.drawMode&&!n.state.editing&&!n.state.straightMode){var t=n.stageRef.getStage().getPointerPosition();n.setState({editing:[t.x,t.y]})}},n.addToBoard=function(e,t){var a,o=n.state[e],r=Object.assign({x:window.innerWidth/2-150+300*Math.random(),y:window.innerHeight/2},t);o.push(r),n.setState((a={},Object(h.a)(a,e,o),Object(h.a)(a,"drawMode",!1),a))},n.state={textes:[],exes:[],ohs:[],lines:[],arrows:[],squares:[],dottedLines:[],fieldHeight:800,drawMode:!1,straightMode:!1},n.history={past:[],future:[],present:[]},n.initialState={textes:[],exes:[],ohs:[],lines:[],arrows:[],squares:[],dottedLines:[],drawMode:!1,straightMode:!0},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getLocalChanges(),document.addEventListener("keydown",this._handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._handleKeyDown)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{onKeyDown:this.handleKeyDown},o.a.createElement(Q.a,{position:"static"},o.a.createElement($.a,null,o.a.createElement(ee.a,{variant:"h6",color:"inherit"},"Playbook Maker"),o.a.createElement(ne.a,{color:"inherit",style:{position:"absolute",right:200},onClick:this.loadSample},"Load Example"),o.a.createElement(ne.a,{color:"inherit",style:{position:"absolute",right:15},onClick:this.clearChanges},"Clear Changes"))),o.a.createElement(X,{addToBoard:this.addToBoard,setMode:function(t){if(t&&e.state.straightMode){var n=e.state[t];n.push({points:[]}),e.setState(Object(h.a)({},t,n))}e.setState({drawMode:t})},undo:this.undo,redo:this.redo,hasFuture:this.history.future.length,hasPast:this.history.past.length,drawMode:this.state.drawMode,straightMode:this.state.straightMode,toggleStraightMode:function(t){return e.setState({straightMode:!e.state.straightMode})}}),o.a.createElement(g.Stage,{width:window.innerWidth,height:this.state.fieldHeight,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,style:{backgroundColor:"#f7faf5"},ref:function(t){e.stageRef=t}},o.a.createElement(m,{height:this.state.fieldHeight}),o.a.createElement(g.Layer,{ref:function(t){return e.layerRef=t}},this.state.drawMode?this.state.straightMode?o.a.createElement(g.Text,{y:15,x:50,text:"Mode: Drawing (straight mode). Click to add points to the line. Press the spacebar to start a new line."}):o.a.createElement(g.Text,{y:15,x:50,text:"Mode: Drawing. Click and hold to draw. Release the mouse to finish drawing."}):o.a.createElement(g.Text,{y:15,x:50,text:"Mode: Dragging. Click on an icon to move them around. Double Click any item to delete it"}),o.a.createElement(g.Text,{y:30,x:50,text:"Double Click any item to delete it"}),this.state.ohs.map(function(t,n){return o.a.createElement(w,{x:t.x,y:t.y,draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"ohs")},remove:function(){return e.remove(n,"ohs")},onClick:function(){}})}),this.state.squares.map(function(t,n){return o.a.createElement(b,{x:t.x,y:t.y,draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"squares")},remove:function(){return e.remove(n,"squares")},onClick:function(){}})}),this.state.lines.map(function(t,n){return o.a.createElement(v,{points:t.points,remove:function(){return e.remove(n,"lines")}})}),this.state.dottedLines.map(function(t,n){return o.a.createElement(k,{points:t.points,remove:function(){return e.remove(n,"dottedLines")}})}),this.state.arrows.map(function(t,n){return o.a.createElement(M,{points:t.points,remove:function(){return e.remove(n,"arrows")}})}),this.state.textes.map(function(t,n){return o.a.createElement(E,{draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"textes")},text:t.text,x:t.x,y:t.y,remove:function(){return e.remove(n,"textes")},onClick:function(){}})}),this.state.exes.map(function(t,n){return o.a.createElement(x,{draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"exes")},text:"X",x:t.x,y:t.y,remove:function(){return e.remove(n,"exes")},onClick:function(){}})}))))}}]),t}(a.Component),re=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(oe,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,2,1]]]);
//# sourceMappingURL=main.ec7baaa0.chunk.js.map