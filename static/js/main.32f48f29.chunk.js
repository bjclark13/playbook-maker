(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){},106:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),i=n.n(r),s=(n(104),n(15)),c=n(16),l=n(18),d=n(17),u=n(19),h=(n(106),n(27)),p=(n(41),n(20)),m="black",f="#f7faf5",g=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Rect,Object.assign({width:20,height:20,cornerRadius:2,stroke:m,fill:f,shadowColor:m,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Circle,Object.assign({radius:9,fill:f,stroke:m,shadowColor:m,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(y,Object.assign({},this.props,{text:"X"}))}}]),t}(o.a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Text,Object.assign({fontSize:25,fill:m,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),w="black",E=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Line,Object.assign({stroke:w,tension:1,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(E,Object.assign({dash:[10]},this.props))}}]),t}(o.a.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Arrow,Object.assign({stroke:w,fill:w,tension:1,onDblClick:this.props.remove},this.props))}}]),t}(o.a.Component),k=n(93),v=n.n(k),j=n(92),M=n.n(j),D=n(94),S=n.n(D),B=n(39),T=n.n(B),L=n(95),P=n(54),I=n.n(P),q=n(21),R=n.n(q),A=n(38),H=n.n(A),Y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).toggleMenu=function(){n.setState({menuOpen:!n.state.menuOpen})},n.toggleDrawMenu=function(){console.log("open the menu"),n.setState({drawMenuOpen:!n.state.drawMenuOpen})},n.setMode=function(e){n.props.setMode(e),n.handleClose()},n.handleClose=function(){n.setState({menuOpen:!1,drawMenuOpen:!1})},n.state={menuOpen:!1,drawMenuOpen:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{zIndex:999}},o.a.createElement(H.a,{title:"Draw Mode","aria-label":"Draw Mode"},o.a.createElement(T.a,{color:this.props.drawMode?"primary":"default","aria-label":"Draw",style:{position:"fixed",zIndex:999,bottom:80,right:15},buttonRef:function(t){e.anchorElDraw=t},onClick:this.toggleDrawMenu},o.a.createElement(M.a,null))),o.a.createElement(H.a,{title:"Add Item","aria-label":"Add Item"},o.a.createElement(T.a,{color:"secondary","aria-label":"Add",style:{bottom:10,right:15,position:"fixed",zIndex:999},onClick:this.toggleMenu,buttonRef:function(t){e.anchorEl=t}},o.a.createElement(v.a,null))),o.a.createElement(H.a,{title:"Drag Mode","aria-label":"Drag Mode"},o.a.createElement(T.a,{color:this.props.drawMode?"default":"primary","aria-label":"Drag",style:{bottom:150,right:15,position:"fixed",zIndex:999},onClick:function(){e.props.setMode(!1)}},o.a.createElement(S.a,null))),o.a.createElement(I.a,{id:"add-menu",onClose:this.handleClose,open:this.state.menuOpen,anchorEl:this.anchorEl},o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("ohs"),e.handleClose()}},"Circle"),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("squares"),e.handleClose()}},"Square"),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("exes"),e.handleClose()}}," X "),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("textes",{text:"Y"}),e.handleClose()}}," Y "),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("textes",{text:"Z"}),e.handleClose()}}," Z "),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("textes",{text:"QB"}),e.handleClose()}}," QB "),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("textes",{text:"HB"}),e.handleClose()}}," HB "),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("textes",{text:"FB"}),e.handleClose()}}," FB "),o.a.createElement(R.a,{onClick:function(){e.props.addToBoard("textes",{text:"TE"}),e.handleClose()}}," TE "),o.a.createElement(R.a,{onClick:this.handleClose},"Custom Text")),o.a.createElement(I.a,{id:"draw-menu",open:this.state.drawMenuOpen,anchorEl:this.anchorElDraw},o.a.createElement(R.a,{onClick:function(){return e.setMode("lines")}},"Lines"),o.a.createElement(R.a,{onClick:function(){return e.setMode("arrows")}},"Arrows"),o.a.createElement(R.a,{onClick:function(){return e.setMode("dottedLines")}},"Dotted Lines")))}}]),t}(o.a.Component),z=Object(L.withStyles)(function(e){return{fab:{marginLeft:100},extendedIcon:{marginRight:e.spacing.unit}}})(Y),W=n(96),F=n.n(W),J=n(97),N=n.n(J),Q=n(98),X=n.n(Q),Z=n(55),U=n.n(Z),_={textes:[{x:404.45820487961646,y:417.5,text:"QB"},{x:406.4942142393893,y:481.5,text:"HB"},{x:301.54174278356686,y:381.5,text:"TE"},{x:831.8467669614723,y:369.5,text:"Y"},{x:147.8579053924966,y:377.5,text:"Z"},{x:652.3655341239064,y:416.5,text:"Y"},{x:347.9741238899112,y:483.5,text:"FB"}],exes:[{x:333.51636263624954,y:329.5},{x:352.54922742490476,y:272.5},{x:372.4247364529081,y:330.5},{x:495.37487311008795,y:329.5},{x:454.4581470595989,y:329.5},{x:406.9802261589049,y:273.5},{x:450.3486192172184,y:273.5},{x:610.2161121255891,y:380.5},{x:699.3462633196102,y:268.5},{x:122.65475548392038,y:257.5},{x:313.042880457158,y:110.5},{x:618.00181701492,y:266.5},{x:506.22486648557594,y:115.5}],ohs:[{x:362.5140046229384,y:391.5},{x:391.1812888316513,y:391.5},{x:454.23179128038396,y:392.5},{x:487.9465022072295,y:392.5}],lines:[{points:[506.1812888316513,324.5]},{points:[420.1528041132161,323.5]},{points:[105,236]},{points:[727,375]},{points:[727,375]},{points:[451,381,451,379,451,375,452,371,454,369,454,368,455,368,455,367,457,364,458,363,458,362,459,361,459,361,460,360,460,360]},{points:[448,356,450,356,451,356,452,356,454,356,454,356,455,356,457,356,459,356,459,356,460,356,462,357,462,357,463,358,464,358,465,358,465,359,466,359]},{points:[490,385,490,381,490,379,490,377,491,375,491,375,491,374,491,373,492,372,493,371,493,371,494,369,494,368,495,367,496,365,496,365,496,364,497,363,497,363,498,362,498,361,499,360,499,360,499,359]},{points:[490,360,490,360,491,360,493,360,493,360,494,360,495,360,496,360,497,360,499,360,500,360,501,360,502,360,504,360,504,360,506,360,507,360,508,360,509,360,510,360,511,360,512,360,513,360,514,359]},{points:[393,382,393,381,393,379,393,377,393,375,393,373,393,372,393,371,393,370,392,368,392,367,391,365,391,364,390,363,390,362,390,362,389,361,389,360]},{points:[380,365,381,365,383,365,384,364,387,362,389,360,392,358,394,356,394,356,395,355,396,355,397,354,398,354,399,353]},{points:[357,384,357,381,357,380,357,377,357,375,357,373,357,372,356,370,355,370,355,369,355,368,355,368,355,367,355,365,355,364]},{points:[350,366,352,366,359,364,361,363,362,363,363,363,363,362,365,362,365,361,364,361,363,361,360,361,358,362,355,363,353,364,350,366,350,367,349,367,349,368,348,368,348,369,347,370,346,371,346,371,345,372,345,372,344,373,344,373]}],arrows:[{points:[501,428,501,426,506,411,516,386,522,372,525,365,525,365,525,364,525,363,525,362,525,361,525,360,525,358,525,355,525,352,525,349,526,345,527,345,527,344,527,344,529,344,533,343,542,341,557,336,577,330,611,323,622,321,638,320,655,319,668,319,675,319,679,319,684,319,687,318,689,318,691,318,692,318,693,318,694,318,695,318]},{points:[155,375,155,374,155,373,155,371,155,369,155,367,155,363,155,360,154,354,153,349,153,343,153,337,153,334,153,331,153,329,154,327,154,324,155,323,155,322,156,321,156,320,156,319,157,317,158,315,158,315,159,312,159,308,160,304,161,299,162,295,162,290,163,288,163,286,164,285,164,284,164,283,165,282,165,281,165,279,165,278,165,277,165,275,166,272,166,270,166,269,166,267,167,266,167,266,167,264,168,262,170,261,175,257,185,250,192,246,198,242,202,239,206,237,209,234,211,233,213,232,215,231,217,229,219,228,223,226,225,225,228,223,230,222,234,220,238,218,242,216,246,213,252,211,257,208,262,205,268,202,273,199,279,196,285,193,292,189,297,186,302,183,308,179,314,176,321,171,328,168,334,164,340,162,346,159,351,156,359,152,362,151,365,149,368,148,369,147,371,146,372,145,373,145,373,145,374,145,375,145,376,144,377,144,378,143,379,143]},{points:[614,381,614,379,614,378,615,376,615,376,615,374,615,373,615,372,615,371,615,370,616,369,616,368,616,367,616,365,616,364,617,362,617,359,617,358,617,357,618,356,618,355,618,354,618,352,618,351,618,350,618,349,619,347,619,346,619,344,619,342,619,338,619,336,619,334,619,332,619,330,619,328,619,325,619,318,619,315,619,310,619,304,619,302,619,297,619,294,619,292,619,288,619,286,619,284,619,283,619,282,619,279,619,271,619,269,619,266,619,262,619,256,619,249,619,240,617,232,615,225,615,222,614,218,614,216,614,212,614,209,614,205,614,203,614,200,614,196,614,193,614,188,614,185,614,180,614,175,614,171,614,166,614,163,614,160,613,158,613,156,613,154,613,152,613,150,613,147,613,143,612,141,612,138,612,137,612,135,612,134,612,133,612,133,612,132,612,131]},{points:[659,415,659,413,659,411,659,408,659,402,659,394,659,386,659,379,658,378,658,377,658,373,658,369,658,364,658,357,658,348,658,341,659,331,659,325,659,321,659,317,659,313,659,310,658,306,657,300,657,292,657,292,657,289,657,284,657,279,658,272,658,267,658,262,658,257,658,252,658,249,658,246,658,243,658,241,658,240,658,238,658,237,658,236,658,235,658,234,658,232,658,231,658,230,658,229,658,228,656,227,652,227,649,227,643,227,635,227,628,227,620,227,611,227,601,227,590,227,588,227,580,227,575,227,572,227,567,227,564,227,561,227,558,228,556,229,554,229,553,230,551,230,549,230,547,230,543,230,541,230,538,230,533,230,529,230,523,229,517,228,513,228,510,228,509,228,507,228]},{points:[839,365,839,363,838,335,829,264,826,208,826,194,826,188,826,183,829,175,829,175,826,160,819,133,808,92,805,71,803,60,802,53]}],squares:[{x:410.8470896565766,y:382.5}],dottedLines:[{points:[105,216]},{points:[441,492,442,490,445,487,447,486,448,485,450,483,451,482,453,480,455,478,457,476,459,475,460,473,461,472,462,471,465,469,467,466,469,463,471,462,471,461,473,459,474,458,475,457,476,456,477,455,478,455,478,454,479,453,480,453,481,452,482,451,483,450,484,449,485,448,486,447,487,446,488,445,489,444,489,444,490,443,491,442,492,441,492,440,493,438,494,437,495,436,496,435,497,434,498,433,498,432,499,431,500,430,500,430,501,429,501,429,502,428,502,428,503,428,504,427]},{points:[610,314]},{points:[610,314]},{points:[606,313]},{points:[606,313]}]},$=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleDragStart=function(e){n.state.drawMode||e.target.setAttrs({})},n.roundToNearest=function(e,t){return e%t>=t/2?parseInt(e/t)*t+t:parseInt(e/t)*t},n.saveProgress=function(){var e=n.state;delete e.drawMode,delete e.editing,window.sessionStorage.setItem("playbook-active",JSON.stringify(n.state))},n.getLocalChanges=function(){var e;(e=window.sessionStorage.getItem("playbook-active"))&&n.setState(JSON.parse(e))},n.loadSample=function(){n.setState(_)},n.clearChanges=function(){window.confirm("Are you sure you want to clear changes?")&&(window.sessionStorage.removeItem("playbook-active"),n.setState(n.initialState))},n.handleDragEnd=function(e,t,a){if(!n.state.drawMode){e.target.to({duration:.5,scaleX:1,scaleY:1});var o=n.state[a];o[t].x=e.currentTarget._lastPos.x,o[t].y=e.currentTarget._lastPos.y,n.setState(Object(h.a)({},a,o),n.saveProgress)}},n.handleMouseMove=function(e){if(n.state.drawMode&&!n.state.straightMode&&n.state.editing){var t=n.state.editing,a=n.stageRef.getStage().getPointerPosition();t.push(a.x,a.y),n.setState({editing:t})}},n.remove=function(e,t){if(window.confirm("Are you sure you want to remove this item?")){var a=n.state[t];a.splice(e,1),n.setState(Object(h.a)({},t,a),n.saveProgress)}},n.handleMouseUp=function(e){if(console.log("event!!",n.state.drawMode),n.state.drawMode){if(n.state.editing){var t,a=n.state[n.state.drawMode];a.push({points:n.state.editing}),n.setState((t={},Object(h.a)(t,n.state.drawMode,a),Object(h.a)(t,"editing",!1),t),n.saveProgress)}if(console.log(n.state),n.state.straightMode){console.log("in straight mode");var o=n.state[n.state.drawMode],r=n.stageRef.getStage().getPointerPosition(),i=r.x,s=r.y;o.length?o[o.length-1].points.push(i,s):o.push({points:[i,s]}),n.setState(Object(h.a)({},n.state.drawMode,o),n.saveProgress)}}},n.handleMouseDown=function(e){if(n.state.drawMode&&!n.state.editing&&!n.state.straightMode){var t=n.stageRef.getStage().getPointerPosition();n.setState({editing:[t.x,t.y]})}},n.addToBoard=function(e,t){var a=n.state[e],o=Object.assign({x:window.innerWidth/2-150+300*Math.random(),y:window.innerHeight/2},t);a.push(o),n.setState(Object(h.a)({},e,a))},n.state={textes:[],exes:[],ohs:[],lines:[],arrows:[],squares:[],dottedLines:[],drawMode:!1},n.initialState={textes:[],exes:[],ohs:[],lines:[],arrows:[],squares:[],dottedLines:[],drawMode:!1,straightMode:!0},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getLocalChanges()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(F.a,{position:"static"},o.a.createElement(N.a,null,o.a.createElement(X.a,{variant:"h6",color:"inherit"},"Playbook Maker"),o.a.createElement(U.a,{color:"inherit",style:{position:"absolute",right:200},onClick:this.loadSample},"Load Example"),o.a.createElement(U.a,{color:"inherit",style:{position:"absolute",right:15},onClick:this.clearChanges},"Clear Changes"))),o.a.createElement(z,{addToBoard:this.addToBoard,setMode:function(t){return e.setState({drawMode:t})},drawMode:this.state.drawMode}),o.a.createElement(p.Stage,{width:window.innerWidth,height:window.innerHeight,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,style:{backgroundColor:"#f7faf5"},ref:function(t){e.stageRef=t}},o.a.createElement(p.Layer,{ref:function(t){return e.layerRef=t}},this.state.drawMode?o.a.createElement(p.Text,{y:15,x:50,text:"Mode: Drawing. Click and hold to draw. Release the mouse to finish drawing."}):o.a.createElement(p.Text,{y:15,x:50,text:"Mode: Dragging. Click on an icon to move them around. Double Click any item to delete it"}),o.a.createElement(p.Text,{y:30,x:50,text:"Double Click any item to delete it"}),o.a.createElement(p.Line,{points:[0,window.innerHeight/2,window.innerWidth,window.innerHeight/2],stroke:"black",tension:2}),this.state.ohs.map(function(t,n){return o.a.createElement(x,{x:t.x,y:t.y,draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"ohs")},remove:function(){return e.remove(n,"ohs")},onClick:function(){}})}),this.state.squares.map(function(t,n){return o.a.createElement(g,{x:t.x,y:t.y,draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"squares")},remove:function(){return e.remove(n,"squares")},onClick:function(){}})}),this.state.lines.map(function(t,n){return o.a.createElement(E,{points:t.points,remove:function(){return e.remove(n,"lines")}})}),this.state.dottedLines.map(function(t,n){return o.a.createElement(O,{points:t.points,remove:function(){return e.remove(n,"dottedLines")}})}),this.state.arrows.map(function(t,n){return o.a.createElement(C,{points:t.points,remove:function(){return e.remove(n,"arrows")}})}),this.state.textes.map(function(t,n){return o.a.createElement(y,{draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"textes")},text:t.text,x:t.x,y:t.y,remove:function(){return e.remove(n,"textes")},onClick:function(){}})}),this.state.exes.map(function(t,n){return o.a.createElement(b,{draggable:!e.state.drawMode,key:n,onDragStart:e.handleDragStart,onDragEnd:function(t){return e.handleDragEnd(t,n,"exes")},text:"X",x:t.x,y:t.y,remove:function(){return e.remove(n,"exes")},onClick:function(){}})}))))}}]),t}(a.Component),G=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={textes:[{text:"QB"},{text:"HB"},{text:"FB"},{text:"C"},{text:"Y"},{text:"Z"}],exes:[{}],ohs:[{}],squares:[{}]},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=0;return o.a.createElement(p.Layer,null,o.a.createElement(p.Text,{y:5,x:50,text:"Editor: Click an icon to add to the play"}),this.state.ohs.map(function(n,a){return t++,o.a.createElement(x,{x:60*t,y:35,onClick:function(t){e.props.addToBoard("ohs")}})},this),this.state.exes.map(function(n,a){return t++,o.a.createElement(b,{key:a,x:60*t,y:25,onClick:function(t){e.props.addToBoard("ohs")}})}),this.state.squares.map(function(n,a){return t++,o.a.createElement(g,{key:a,x:60*t,y:25,onClick:function(t){e.props.addToBoard("squares")}})}),this.state.textes.map(function(n,a){return t++,o.a.createElement(y,{text:n.text,x:60*t,y:25,onClick:function(t){e.props.addToBoard("textes",{text:n.text})}})}))}}]),t}(o.a.Component),K=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(G,null),o.a.createElement($,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,n){e.exports=n(257)}},[[99,2,1]]]);
//# sourceMappingURL=main.32f48f29.chunk.js.map